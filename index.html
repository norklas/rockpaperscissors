<!DOCTYPE html>
<html>
<head>
  <title>Rock, Paper, Scissors!</title>
  <meta charset="UTF-8"/>
</head>
<body>

  <div id='choice'>
    <button id='rock'>Rock</button>
    <button id='paper'>Paper</button>
    <button id='scissors'>Scissors</button>
  </div>

  <div class='scoreboard'>
    <h1 id='playerScore'></h1>
    <h1 id='cpuScore'></h1>
  </div>

  <div id='result'></div>

  <script>
      function computerPlay() {
      return results[Math.floor(Math.random()*results.length)]
    };

    const playerSelection = document.getElementById('playerSelection');
    const playerPoints = document.getElementById('playerScore');
    const cpuScore = document.getElementById('cpuScore');
    const playerChoice = document.getElementById('choice')
    const result = document.getElementById('result');

    var results = ['rock', 'paper', 'scissors'];
    var playerScore = 0;
    var computerScore = 0;

    let buttons = document.querySelectorAll('button');
    buttons.forEach((button) => {
      button.addEventListener('click', playRound);
    });

    function playRound(e) {
      let playerSelection = e.target.id;
      let computerSelection = computerPlay();

      console.log(getWinner(playerSelection, computerSelection));
    }

    function getWinner(playerSelection, computerSelection) {
      if (computerSelection === playerSelection) {
        playerPoints.textContent = 'YOU ' + playerScore;
        cpuScore.textContent = 'CPU ' + computerScore;
        var play = document.createElement('p');
        play.textContent = 'Tie!';
        result.appendChild(play);
      
      } else if (computerSelection === 'rock' && playerSelection === 'paper') {
        playerScore++;
        playerPoints.textContent = 'YOU ' + playerScore;
        cpuScore.textContent = 'CPU ' + computerScore;
        var play = document.createElement('p');
        play.textContent = 'Player Wins!';
        result.appendChild(play);
      
      } else if (computerSelection === 'paper' && playerSelection === 'scissors') {
        playerScore++;
        playerPoints.textContent = 'YOU ' + playerScore;
        cpuScore.textContent = 'CPU ' + computerScore;
        var play = document.createElement('p');
        play.textContent = 'Player Wins!';
        result.appendChild(play);
      
      } else if (computerSelection === 'scissors' && playerSelection === 'rock') {
        playerScore++;
        playerPoints.textContent = 'YOU ' + playerScore;
        cpuScore.textContent = 'CPU ' + computerScore;
        var play = document.createElement('p');
        play.textContent = 'Player Wins!';
        result.appendChild(play);
      
      } else if (computerSelection === 'rock' && playerSelection === 'scissors') {
        computerScore++;
        playerPoints.textContent = 'YOU ' + playerScore;
        cpuScore.textContent = 'CPU ' + computerScore;
        var play = document.createElement('p');
        play.textContent = 'CPU Wins!';
        result.appendChild(play);
      
      } else if (computerSelection === 'paper' && playerSelection === 'rock') {
        computerScore++;
        playerPoints.textContent = 'YOU ' + playerScore;
        cpuScore.textContent = 'CPU ' + computerScore;
        var play = document.createElement('p');
        play.textContent = 'CPU Wins!';
        result.appendChild(play);
      
      } else if (computerSelection === 'scissors' && playerSelection === 'paper') {
        computerScore++;
        playerPoints.textContent = 'YOU ' + playerScore;
        cpuScore.textContent = 'CPU ' + computerScore;
        var play = document.createElement('p');
        play.textContent = 'CPU Wins!';
        result.appendChild(play);
      
      } else {
        return 'You did something wrong!';
      }
      checkScore();
    }

    function checkScore() {
        if (playerScore >= 5) {
          console.log('you win the game');
          result.textContent = 'You win the game!';
          container.appendChild(result);
        }

        if (computerScore >= 5) {
          result.textContent = 'You lose the game!';
          container.appendChild(result);
        }
      }

  </script>
</body>
</html>